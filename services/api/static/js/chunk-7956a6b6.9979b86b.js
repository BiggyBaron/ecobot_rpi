(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7956a6b6"],{"092b":function(e,t,n){"use strict";n("2dff")},"2dff":function(e,t,n){},4127:function(e,t,n){"use strict";var r=n("d233"),a=n("b313"),s={brackets:function(e){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},i=Date.prototype.toISOString,o={delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,serializeDate:function(e){return i.call(e)},skipNulls:!1,strictNullHandling:!1},l=function e(t,n,a,s,i,l,u,c,d,p,f,m){var g=t;if("function"===typeof u)g=u(n,g);else if(g instanceof Date)g=p(g);else if(null===g){if(s)return l&&!m?l(n,o.encoder):n;g=""}if("string"===typeof g||"number"===typeof g||"boolean"===typeof g||r.isBuffer(g)){if(l){var b=m?n:l(n,o.encoder);return[f(b)+"="+f(l(g,o.encoder))]}return[f(n)+"="+f(String(g))]}var y,h=[];if("undefined"===typeof g)return h;if(Array.isArray(u))y=u;else{var v=Object.keys(g);y=c?v.sort(c):v}for(var _=0;_<y.length;++_){var w=y[_];i&&null===g[w]||(h=Array.isArray(g)?h.concat(e(g[w],a(n,w),a,s,i,l,u,c,d,p,f,m)):h.concat(e(g[w],n+(d?"."+w:"["+w+"]"),a,s,i,l,u,c,d,p,f,m)))}return h};e.exports=function(e,t){var n=e,i=t?r.assign({},t):{};if(null!==i.encoder&&void 0!==i.encoder&&"function"!==typeof i.encoder)throw new TypeError("Encoder has to be a function.");var u="undefined"===typeof i.delimiter?o.delimiter:i.delimiter,c="boolean"===typeof i.strictNullHandling?i.strictNullHandling:o.strictNullHandling,d="boolean"===typeof i.skipNulls?i.skipNulls:o.skipNulls,p="boolean"===typeof i.encode?i.encode:o.encode,f="function"===typeof i.encoder?i.encoder:o.encoder,m="function"===typeof i.sort?i.sort:null,g="undefined"!==typeof i.allowDots&&i.allowDots,b="function"===typeof i.serializeDate?i.serializeDate:o.serializeDate,y="boolean"===typeof i.encodeValuesOnly?i.encodeValuesOnly:o.encodeValuesOnly;if("undefined"===typeof i.format)i.format=a["default"];else if(!Object.prototype.hasOwnProperty.call(a.formatters,i.format))throw new TypeError("Unknown format option provided.");var h,v,_=a.formatters[i.format];"function"===typeof i.filter?(v=i.filter,n=v("",n)):Array.isArray(i.filter)&&(v=i.filter,h=v);var w,C=[];if("object"!==typeof n||null===n)return"";w=i.arrayFormat in s?i.arrayFormat:"indices"in i?i.indices?"indices":"repeat":"indices";var k=s[w];h||(h=Object.keys(n)),m&&h.sort(m);for(var x=0;x<h.length;++x){var j=h[x];d&&null===n[j]||(C=C.concat(l(n[j],j,k,c,d,p?f:null,v,m,g,b,_,y)))}var O=C.join(u),A=!0===i.addQueryPrefix?"?":"";return O.length>0?A+O:""}},4328:function(e,t,n){"use strict";var r=n("4127"),a=n("9e6a"),s=n("b313");e.exports={formats:s,parse:a,stringify:r}},"9e6a":function(e,t,n){"use strict";var r=n("d233"),a=Object.prototype.hasOwnProperty,s={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:r.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},i=function(e,t){for(var n={},r=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,i=t.parameterLimit===1/0?void 0:t.parameterLimit,o=r.split(t.delimiter,i),l=0;l<o.length;++l){var u,c,d=o[l],p=d.indexOf("]="),f=-1===p?d.indexOf("="):p+1;-1===f?(u=t.decoder(d,s.decoder),c=t.strictNullHandling?null:""):(u=t.decoder(d.slice(0,f),s.decoder),c=t.decoder(d.slice(f+1),s.decoder)),a.call(n,u)?n[u]=[].concat(n[u]).concat(c):n[u]=c}return n},o=function(e,t,n){for(var r=t,a=e.length-1;a>=0;--a){var s,i=e[a];if("[]"===i)s=[],s=s.concat(r);else{s=n.plainObjects?Object.create(null):{};var o="["===i.charAt(0)&&"]"===i.charAt(i.length-1)?i.slice(1,-1):i,l=parseInt(o,10);!isNaN(l)&&i!==o&&String(l)===o&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(s=[],s[l]=r):s[o]=r}r=s}return r},l=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/,i=/(\[[^[\]]*])/g,l=s.exec(r),u=l?r.slice(0,l.index):r,c=[];if(u){if(!n.plainObjects&&a.call(Object.prototype,u)&&!n.allowPrototypes)return;c.push(u)}var d=0;while(null!==(l=i.exec(r))&&d<n.depth){if(d+=1,!n.plainObjects&&a.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(l[1])}return l&&c.push("["+r.slice(l.index)+"]"),o(c,t,n)}};e.exports=function(e,t){var n=t?r.assign({},t):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!==typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"===typeof n.delimiter||r.isRegExp(n.delimiter)?n.delimiter:s.delimiter,n.depth="number"===typeof n.depth?n.depth:s.depth,n.arrayLimit="number"===typeof n.arrayLimit?n.arrayLimit:s.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"===typeof n.decoder?n.decoder:s.decoder,n.allowDots="boolean"===typeof n.allowDots?n.allowDots:s.allowDots,n.plainObjects="boolean"===typeof n.plainObjects?n.plainObjects:s.plainObjects,n.allowPrototypes="boolean"===typeof n.allowPrototypes?n.allowPrototypes:s.allowPrototypes,n.parameterLimit="number"===typeof n.parameterLimit?n.parameterLimit:s.parameterLimit,n.strictNullHandling="boolean"===typeof n.strictNullHandling?n.strictNullHandling:s.strictNullHandling,""===e||null===e||"undefined"===typeof e)return n.plainObjects?Object.create(null):{};for(var a="string"===typeof e?i(e,n):e,o=n.plainObjects?Object.create(null):{},u=Object.keys(a),c=0;c<u.length;++c){var d=u[c],p=l(d,a[d],n);o=r.merge(o,p,n)}return r.compact(o)}},b313:function(e,t,n){"use strict";var r=String.prototype.replace,a=/%20/g;e.exports={default:"RFC3986",formatters:{RFC1738:function(e){return r.call(e,a,"+")},RFC3986:function(e){return e}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},b826:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h4",[e._v("Личная информация")]),n("div",[n("ul",{staticClass:"cab_list"},[n("li",[n("label",[e._v("Имя:")]),e._v(" "),n("span",[e._v(" "+e._s(e.uname))])]),n("li",[n("label",[e._v("Фамилия:")]),e._v(" "),n("span",[e._v(" "+e._s(e.usname))])]),n("li",[n("label",[e._v("Никнейм:")]),e._v(" "),n("span",[e._v(" "+e._s(e.username))])]),n("li",[n("label",[e._v("Город:")]),e._v(" "),n("span",[e._v(" "+e._s(e.cities_key[e.ucity]))])]),n("li",[n("label",[e._v("Телефон:")]),e._v(" "),n("span",[e._v(" "+e._s(e.uphone))])]),n("li",[n("label",[e._v("Роль:")]),e._v(" "),n("span",[e._v(" "+e._s(e.uposition))])])])]),e.showList?n("CRow",{staticClass:"clapans"},[n("CCol",{attrs:{md:"12"}},[n("CCard",[n("CCardHeader",[n("div",{staticClass:"d-flex aligin-items-center justify-content-between"},[n("span",[e._v("Пользователи")]),n("div",[n("CButton",{attrs:{color:"success"},on:{click:e.addNewValveModal}},[e._v(" Добавить нового пользователя ")])],1)])]),n("CCardBody",[n("CDataTable",{staticClass:"m-2",attrs:{hover:"",items:e.tableItems,fields:e.tableFields,"head-color":"light","column-filter":""},scopedSlots:e._u([{key:"city",fn:function(t){var r=t.item;return n("td",{},[e._v(" "+e._s(e.cities_key[r.city])+" ")])}},{key:"surname",fn:function(t){var r=t.item;return n("td",{},[e._v(" "+e._s(r.surname)+" ")])}},{key:"phone",fn:function(t){var r=t.item;return n("td",{},[e._v(" "+e._s(r.phone_number)+" ")])}},{key:"status",fn:function(t){var r=t.item,a=t.index;return n("td",{},[n("span",{staticClass:"badge",class:"badge-"+e.colorStatus(r.status)},[e._v(e._s(e.textStatus(r.status)))]),n("br"),n("CSwitch",{staticClass:"mt-1",attrs:{color:"primary",checked:1==r.status,value:r.status},on:{"update:checked":function(t){return e.actionStatusChange(r,a)}}})],1)}},{key:"settings",fn:function(t){var r=t.item;return n("td",{},[n("span",{staticClass:"d-flex align-items-center",staticStyle:{"white-space":"nowrap",cursor:"pointer"},on:{click:function(t){return e.showSettingModal(r)}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cilSettings"}}),e._v(" Изменить ")],1),"main"!==r.position?n("span",{staticClass:"d-flex align-items-center",staticStyle:{"white-space":"nowrap",cursor:"pointer",color:"red"},on:{click:function(t){return e.deleteUser(r)}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cil-pencil"}}),e._v(" Удалить ")],1):e._e()])}}],null,!1,2193325661)})],1)],1)],1)],1):e._e(),n("CModal",{attrs:{title:"Добавление нового Пользователя",show:e.NewValveModal},on:{"update:show":function(t){e.NewValveModal=t}}},[n("CCard",[n("CCardBody",[n("CForm",{on:{submit:function(t){return t.preventDefault(),e.submitForm()}}},[n("CSelect",{attrs:{horizontal:"",label:"Город",value:e.setting.city,options:e.cities,required:""},on:{"update:value":function(t){return e.$set(e.setting,"city",t)}}}),n("CInput",{attrs:{type:"text",label:"Фамилия",horizontal:"",required:""},model:{value:e.setting.surname,callback:function(t){e.$set(e.setting,"surname",t)},expression:"setting.surname"}}),n("CInput",{attrs:{type:"text",label:"Имя",horizontal:""},model:{value:e.setting.name,callback:function(t){e.$set(e.setting,"name",t)},expression:"setting.name"}}),n("CInput",{attrs:{type:"text",label:"Позиция",horizontal:"",required:""},model:{value:e.setting.position,callback:function(t){e.$set(e.setting,"position",t)},expression:"setting.position"}}),n("CInput",{attrs:{type:"text",label:"Телефон",horizontal:"",required:""},model:{value:e.setting.phone_number,callback:function(t){e.$set(e.setting,"phone_number",t)},expression:"setting.phone_number"}}),n("CInput",{attrs:{type:"text",label:"Никнейм",horizontal:"",required:""},model:{value:e.setting.username,callback:function(t){e.$set(e.setting,"username",t)},expression:"setting.username"}}),n("CInput",{attrs:{type:"text",label:"Пароль",horizontal:"",required:""},model:{value:e.setting.passwprd,callback:function(t){e.$set(e.setting,"passwprd",t)},expression:"setting.passwprd"}}),n("CButton",{attrs:{color:"success",type:"submit"}},[e._v(" Изменить ")])],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"})],1),n("CModal",{attrs:{title:"Настройки","ok-disabled":!0,show:e.SettingsModal},on:{"update:show":function(t){e.SettingsModal=t}}},[n("CCard",[n("CCardBody",[n("CForm",{on:{submit:function(t){return t.preventDefault(),e.editForm()}}},[n("CSelect",{attrs:{horizontal:"",label:"Город",value:e.setting.city,options:e.cities,required:""},on:{"update:value":function(t){return e.$set(e.setting,"city",t)}}}),n("CInput",{attrs:{type:"text",label:"Фамилия",horizontal:"",required:""},model:{value:e.setting.surname,callback:function(t){e.$set(e.setting,"surname",t)},expression:"setting.surname"}}),n("CInput",{attrs:{type:"text",label:"Имя",horizontal:""},model:{value:e.setting.name,callback:function(t){e.$set(e.setting,"name",t)},expression:"setting.name"}}),n("CInput",{attrs:{type:"text",label:"Позиция",horizontal:"",required:""},model:{value:e.setting.position,callback:function(t){e.$set(e.setting,"position",t)},expression:"setting.position"}}),n("CInput",{attrs:{type:"text",label:"Телефон",horizontal:"",required:""},model:{value:e.setting.phone_number,callback:function(t){e.$set(e.setting,"phone_number",t)},expression:"setting.phone_number"}}),n("CInput",{attrs:{type:"text",disabled:"",label:"Никнейм",horizontal:"",required:""},model:{value:e.setting.username,callback:function(t){e.$set(e.setting,"username",t)},expression:"setting.username"}}),n("CInput",{attrs:{type:"text",label:"Пароль",horizontal:"",required:""},model:{value:e.setting.passwprd,callback:function(t){e.$set(e.setting,"passwprd",t)},expression:"setting.passwprd"}}),n("CButton",{attrs:{color:"success",type:"submit"}},[e._v(" Изменить ")])],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"})],1),n("div",{staticClass:"alert_block"},[e.warning?n("CAlert",{attrs:{color:"warning",closeButton:""}},[e._v(" "+e._s(e.alert_message)+" ")]):e._e(),e.success?n("CAlert",{attrs:{color:"primary",closeButton:""}},[e._v(" "+e._s(e.alert_message)+" ")]):e._e()],1)],1)},a=[],s=n("4328"),i=n("bc3a"),o={name:"Cab",data:function(){return{alert_message:"",cities_name:"",cities_key:"",cities_arr:"",SettingsModal:!1,NewValveModal:!1,uname:"",usname:"",username:"",ucity:"",uphone:"",uposition:"",showList:!1,cities:[{value:null,label:"Выберите город"},{value:"1",label:"Алма-ата"},{value:"2",label:"Нур-Султан"},{value:"3",label:"Шымкент"},{value:"4",label:"Актобе"},{value:"5",label:"Караганда"},{value:"6",label:"Тараз"},{value:"7",label:"Павлодар"},{value:"8",label:"Усть-Каменогорск"},{value:"9",label:"Семей"},{value:"10",label:"Атырау"},{value:"11",label:"Костанай"},{value:"12",label:"Кызылорда"},{value:"13",label:"Уральск"},{value:"14",label:"Петропавловск"},{value:"15",label:"Темиртау"},{value:"16",label:"Актау"},{value:"17",label:"Туркестан"},{value:"18",label:"Кокшетау"},{value:"19",label:"Талдыкорган"},{value:"20",label:"Экибастуз"},{value:"21",label:"Рудный"}],tableItems:[],tableFields:[{key:"city",label:"Город "},{key:"surname",label:"Фамилия"},{key:"name",label:"Имя"},{key:"phone",label:"Телефон"},{key:"username",label:"Никнейм"},{key:"settings",label:"Действия"}],setting:{}}},created:function(){var e=auth.cities();this.cities_name=e.cities_name,this.cities_arr=e.cities,this.cities_key=e.cities_key,this.getResults()},methods:{getResults:function(){var e=this;i.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,i.get("/users/me").then((function(t){console.log(t),"main"===t.data[0].position&&(e.showList=!0,e.tableItems=t.data[1]),e.uname=t.data[0].name,e.usname=t.data[0].surname,e.username=t.data[0].username,e.ucity=t.data[0].city,e.uphone=t.data[0].phone_number,e.uposition=t.data[0].position})).catch((function(e){401===e.response.status&&window.auth.logout()}))},addNewValveModal:function(){this.setting={},this.NewValveModal=!this.NewValveModal},showSettingModal:function(e){this.setting=e,this.SettingsModal=!this.SettingsModal},submitForm:function(){var e=this,t=this;console.log(this.setting),i.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,i({method:"post",url:"/users/new",data:s.stringify({username_to_be_created:this.setting.username,password:this.setting.passwprd,name:this.setting.name,surname:this.setting.surname,phone_number:this.setting.phone_number,position_doljnost:this.setting.position,city:this.setting.city})}).then((function(){e.NewValveModal=!1,t.warningModal=!1,t.success=!0,t.alert_message="Успешно добавлен",t.setting={},setTimeout((function(){t.success=!1}),3e3),e.getResults()})).catch((function(e){t.warning=!0,t.alert_message=e.response.data.detail,setTimeout((function(){t.warning=!1}),3e3)}))},editForm:function(){var e=this,t=this;console.log(this.setting),i.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,i({method:"post",url:"/users/change",data:s.stringify({username_of_user_to_be_changed:this.setting.username,password:this.setting.passwprd,name:this.setting.name,surname:this.setting.surname,phone_number:this.setting.phone_number,position_doljnost:this.setting.position,city:this.setting.city})}).then((function(){e.SettingsModal=!1,t.warningModal=!1,t.success=!0,t.alert_message="Успешно изменено",t.setting={},setTimeout((function(){t.success=!1}),3e3),e.getResults()})).catch((function(e){t.warning=!0,t.alert_message=e.response.data.detail,setTimeout((function(){t.warning=!1}),3e3)}))},deleteUser:function(e){var t=this,n=this;this.setting=e,i.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,i({method:"post",url:"/users/delete",data:s.stringify({to_be_deleted_username:this.setting.username})}).then((function(){n.warningModal=!1,n.success=!0,n.alert_message="Успешно удален",n.setting={},setTimeout((function(){n.success=!1}),3e3),t.getResults()})).catch((function(e){n.warning=!0,n.alert_message=e.response.data.detail,setTimeout((function(){n.warning=!1}),3e3)}))}}},l=o,u=(n("092b"),n("2877")),c=Object(u["a"])(l,r,a,!1,null,null,null);t["default"]=c.exports},d233:function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,a=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e){var t;while(e.length){var n=e.pop();if(t=n.obj[n.prop],Array.isArray(t)){for(var r=[],a=0;a<t.length;++a)"undefined"!==typeof t[a]&&r.push(t[a]);n.obj[n.prop]=r}}return t},i=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},o=function e(t,n,a){if(!n)return t;if("object"!==typeof n){if(Array.isArray(t))t.push(n);else{if("object"!==typeof t)return[t,n];(a.plainObjects||a.allowPrototypes||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if("object"!==typeof t)return[t].concat(n);var s=t;return Array.isArray(t)&&!Array.isArray(n)&&(s=i(t,a)),Array.isArray(t)&&Array.isArray(n)?(n.forEach((function(n,s){r.call(t,s)?t[s]&&"object"===typeof t[s]?t[s]=e(t[s],n,a):t.push(n):t[s]=n})),t):Object.keys(n).reduce((function(t,s){var i=n[s];return r.call(t,s)?t[s]=e(t[s],i,a):t[s]=i,t}),s)},l=function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},u=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},c=function(e){if(0===e.length)return e;for(var t="string"===typeof e?e:String(e),n="",r=0;r<t.length;++r){var s=t.charCodeAt(r);45===s||46===s||95===s||126===s||s>=48&&s<=57||s>=65&&s<=90||s>=97&&s<=122?n+=t.charAt(r):s<128?n+=a[s]:s<2048?n+=a[192|s>>6]+a[128|63&s]:s<55296||s>=57344?n+=a[224|s>>12]+a[128|s>>6&63]+a[128|63&s]:(r+=1,s=65536+((1023&s)<<10|1023&t.charCodeAt(r)),n+=a[240|s>>18]+a[128|s>>12&63]+a[128|s>>6&63]+a[128|63&s])}return n},d=function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var a=t[r],i=a.obj[a.prop],o=Object.keys(i),l=0;l<o.length;++l){var u=o[l],c=i[u];"object"===typeof c&&null!==c&&-1===n.indexOf(c)&&(t.push({obj:i,prop:u}),n.push(c))}return s(t)},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},f=function(e){return null!==e&&"undefined"!==typeof e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))};e.exports={arrayToObject:i,assign:l,compact:d,decode:u,encode:c,isBuffer:f,isRegExp:p,merge:o}}}]);
//# sourceMappingURL=chunk-7956a6b6.9979b86b.js.map