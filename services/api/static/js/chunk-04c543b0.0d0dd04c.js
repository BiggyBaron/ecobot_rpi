(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-04c543b0"],{"09e0":function(t,e,n){},"2b56":function(t,e,n){"use strict";n("09e0")},4127:function(t,e,n){"use strict";var a=n("d233"),i=n("b313"),r={brackets:function(t){return t+"[]"},indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},s=Date.prototype.toISOString,o={delimiter:"&",encode:!0,encoder:a.encode,encodeValuesOnly:!1,serializeDate:function(t){return s.call(t)},skipNulls:!1,strictNullHandling:!1},l=function t(e,n,i,r,s,l,c,u,d,f,p,v){var m=e;if("function"===typeof c)m=c(n,m);else if(m instanceof Date)m=f(m);else if(null===m){if(r)return l&&!v?l(n,o.encoder):n;m=""}if("string"===typeof m||"number"===typeof m||"boolean"===typeof m||a.isBuffer(m)){if(l){var h=v?n:l(n,o.encoder);return[p(h)+"="+p(l(m,o.encoder))]}return[p(n)+"="+p(String(m))]}var g,b=[];if("undefined"===typeof m)return b;if(Array.isArray(c))g=c;else{var y=Object.keys(m);g=u?y.sort(u):y}for(var w=0;w<g.length;++w){var _=g[w];s&&null===m[_]||(b=Array.isArray(m)?b.concat(t(m[_],i(n,_),i,r,s,l,c,u,d,f,p,v)):b.concat(t(m[_],n+(d?"."+_:"["+_+"]"),i,r,s,l,c,u,d,f,p,v)))}return b};t.exports=function(t,e){var n=t,s=e?a.assign({},e):{};if(null!==s.encoder&&void 0!==s.encoder&&"function"!==typeof s.encoder)throw new TypeError("Encoder has to be a function.");var c="undefined"===typeof s.delimiter?o.delimiter:s.delimiter,u="boolean"===typeof s.strictNullHandling?s.strictNullHandling:o.strictNullHandling,d="boolean"===typeof s.skipNulls?s.skipNulls:o.skipNulls,f="boolean"===typeof s.encode?s.encode:o.encode,p="function"===typeof s.encoder?s.encoder:o.encoder,v="function"===typeof s.sort?s.sort:null,m="undefined"!==typeof s.allowDots&&s.allowDots,h="function"===typeof s.serializeDate?s.serializeDate:o.serializeDate,g="boolean"===typeof s.encodeValuesOnly?s.encodeValuesOnly:o.encodeValuesOnly;if("undefined"===typeof s.format)s.format=i["default"];else if(!Object.prototype.hasOwnProperty.call(i.formatters,s.format))throw new TypeError("Unknown format option provided.");var b,y,w=i.formatters[s.format];"function"===typeof s.filter?(y=s.filter,n=y("",n)):Array.isArray(s.filter)&&(y=s.filter,b=y);var _,C=[];if("object"!==typeof n||null===n)return"";_=s.arrayFormat in r?s.arrayFormat:"indices"in s?s.indices?"indices":"repeat":"indices";var k=r[_];b||(b=Object.keys(n)),v&&b.sort(v);for(var x=0;x<b.length;++x){var I=b[x];d&&null===n[I]||(C=C.concat(l(n[I],I,k,u,d,f?p:null,y,v,m,h,w,g)))}var S=C.join(c),A=!0===s.addQueryPrefix?"?":"";return S.length>0?A+S:""}},4328:function(t,e,n){"use strict";var a=n("4127"),i=n("9e6a"),r=n("b313");t.exports={formats:r,parse:i,stringify:a}},6304:function(t,e,n){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};t.exports=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:",";if(!t||Array.isArray(t)&&!t.length||!Object.keys(t).length)return"传入数据为空(the download datas is null)";var i=[];if("object"===("undefined"==typeof t?"undefined":a(t))&&Array.isArray(t)){var r=function(){var r=Array.isArray(t[0]);return t.some((function(t){return Array.isArray(t)!==r}))?{v:"传入数据格式不一致(the array element data format is inconsistent)"}:void(r?i=i.concat(t.map((function(t){return t.join(n)}))):function(){var r=[];if(t.forEach((function(t){return r=r.concat(Object.keys(t))})),r=r.filter((function(t,e,n){return n.indexOf(t)===e})),r.length>0)if(e&&"object"===("undefined"==typeof e?"undefined":a(e))){var s=r.map((function(t){return e.hasOwnProperty(t)?e[t]:t}));i.push(s.join(n))}else i.push(r.join(n));t.map((function(t){return r.map((function(e){return"undefined"!=typeof t[e]?t[e]:""}))})).forEach((function(t){i.push(t.join(n))}))}())}();if("object"===("undefined"==typeof r?"undefined":a(r)))return r.v}else{if("object"!==("undefined"==typeof t?"undefined":a(t)))return t;for(var s in t)e&&e.hasOwnProperty(s)?i.push(e[s]+","+t[s]):i.push(s+","+t[s])}return i.join("\r\n")}},7277:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Stats",{attrs:{stat_info:t.statInfo},on:{myEvent:t.tableStats}}),n("CRow",{staticClass:"clapans"},[n("CCol",{attrs:{md:"12"}},[n("CCard",[n("CCardHeader",[n("div",{staticClass:"d-flex aligin-items-center justify-content-between"},[n("span",[t._v("Клапаны")]),n("div",[n("CButton",{staticClass:"mr-2",attrs:{color:"success"},on:{click:t.downloadArray}},[t._v(" Скачать информацию о клапанах ")]),n("CButton",{attrs:{color:"success"},on:{click:t.addNewValveModal}},[t._v(" Добавить новый клапан ")])],1)])]),n("CCardBody",[n("div",{staticClass:"d-flex aligin-items-center justify-content-between"},[t.isSelect?n("CSelect",{staticClass:"col-4",attrs:{horizontal:"",label:"Действие на выбор",value:t.action_switcher,options:t.availableOptions},on:{"update:value":function(e){t.action_switcher=e},change:function(e){return t.actionSwitcher()}}}):t._e(),n("CSelect",{staticClass:"col-4",attrs:{horizontal:"",label:"Город",options:t.cities_name,value:t.action_switcher_city},on:{"update:value":function(e){t.action_switcher_city=e},change:function(e){return t.actionSwitcherCity()}}}),n("CSelect",{staticClass:"col-4",attrs:{horizontal:"",label:"Период показаний сенсора",options:t.period_name,value:t.action_switcher_period},on:{"update:value":function(e){t.action_switcher_period=e},change:function(e){return t.actionSwitcherCity()}}})],1),n("CDataTable",{staticClass:"mb-0 table-outline",attrs:{hover:"",items:t.tableItems,fields:t.tableFields,"head-color":"light","column-filter":"","table-filter":"",sorter:"",tableFilter:{label:"Поиск",placeholder:"Введите слово для поиска"}},scopedSlots:t._u([{key:"select-filter",fn:function(e){e.item;return[n("CInputCheckbox",{attrs:{value:t.all_select,custom:"",inline:""},on:{"update:value":function(e){t.all_select=e},change:function(e){return t.allSelect()}}})]}},{key:"select",fn:function(e){var a=e.item;return n("td",{},[n("input",{directives:[{name:"model",rawName:"v-model",value:a.select,expression:"item.select"}],attrs:{type:"checkbox",custom:"",inline:""},domProps:{checked:Array.isArray(a.select)?t._i(a.select,null)>-1:a.select},on:{change:[function(e){var n=a.select,i=e.target,r=!!i.checked;if(Array.isArray(n)){var s=null,o=t._i(n,s);i.checked?o<0&&t.$set(a,"select",n.concat([s])):o>-1&&t.$set(a,"select",n.slice(0,o).concat(n.slice(o+1)))}else t.$set(a,"select",r)},function(e){return t.actionSelectChange(a)}]}})])}},{key:"city",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(t.cities_key[a.city])+" ")])}},{key:"waterVolume",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.volume)+" м³ ")])}},{key:"district",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.district)+" ")])}},{key:"street",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.street)+" ")])}},{key:"building",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.typeofbuilding)+" ")])}},{key:"numHouse",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.buildingnum)+" ")])}},{key:"numDoor",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.entrancenum)+" ")])}},{key:"numMine",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.shaftnum)+" ")])}},{key:"stage",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.floor)+" ")])}},{key:"numOffice",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.aptoroffice)+" ")])}},{key:"id",fn:function(e){var a=e.item;return n("td",{},[t._v(" "+t._s(a.valveID)+" ")])}},{key:"status",fn:function(e){var a=e.item;return n("td",{},[n("span",{staticClass:"badge",class:"badge-"+t.colorStatus(a.status)},[t._v(t._s(t.textStatus(a.status)))]),n("br"),"3"!==a.status?n("CSwitch",{staticClass:"mt-1",attrs:{color:"primary",checked:"4"===a.status||"5"===a.status,value:a.status},on:{"update:checked":function(e){return t.actionStatusChange(a)}}}):t._e()],1)}},{key:"settings",fn:function(e){var a=e.item;return n("td",{},[n("span",{staticClass:"d-flex align-items-center",staticStyle:{"white-space":"nowrap",cursor:"pointer"},on:{click:function(e){return t.showSettingModal(a)}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cilSettings"}}),t._v(" Настройки ")],1),n("span",{staticClass:"d-flex align-items-center",staticStyle:{"white-space":"nowrap",cursor:"pointer"},on:{click:function(e){return t.$router.push({path:"/dashboard/"+a.valveID})}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cilSettings"}}),t._v(" История ")],1)])}}])})],1)],1)],1)],1),n("CModal",{attrs:{title:"Добавление клапана",show:t.NewValveModal},on:{"update:show":function(e){t.NewValveModal=e}}},[n("CCard",[n("CCardBody",[n("CForm",{on:{submit:function(e){return t.submitForm()}}},[n("CSelect",{attrs:{horizontal:"",label:"Город",value:t.setting.city,options:t.cities,required:""},on:{"update:value":function(e){return t.$set(t.setting,"city",e)}},model:{value:t.setting.city,callback:function(e){t.$set(t.setting,"city",e)},expression:"setting.city"}}),n("CInput",{attrs:{type:"text",label:"Район",horizontal:"",required:""},model:{value:t.setting.district,callback:function(e){t.$set(t.setting,"district",e)},expression:"setting.district"}}),n("CInput",{attrs:{type:"text",label:"Улица",horizontal:"",required:""},model:{value:t.setting.street,callback:function(e){t.$set(t.setting,"street",e)},expression:"setting.street"}}),n("CInput",{attrs:{type:"text",label:"Тип здания",horizontal:"",required:""},model:{value:t.setting.typeofbuilding,callback:function(e){t.$set(t.setting,"typeofbuilding",e)},expression:"setting.typeofbuilding"}}),n("CInput",{attrs:{type:"text",label:"Номер здания",horizontal:"",required:""},model:{value:t.setting.buildingnum,callback:function(e){t.$set(t.setting,"buildingnum",e)},expression:"setting.buildingnum"}}),n("CInput",{attrs:{type:"text",label:"Подъезд",horizontal:"",required:""},model:{value:t.setting.entrancenum,callback:function(e){t.$set(t.setting,"entrancenum",e)},expression:"setting.entrancenum"}}),n("CInput",{attrs:{type:"text",label:"Шахта",horizontal:"",required:""},model:{value:t.setting.shaftnum,callback:function(e){t.$set(t.setting,"shaftnum",e)},expression:"setting.shaftnum"}}),n("CInput",{attrs:{type:"text",label:"Дом",horizontal:"",required:""},model:{value:t.setting.house,callback:function(e){t.$set(t.setting,"house",e)},expression:"setting.house"}}),n("CInput",{attrs:{type:"text",label:"Этаж",horizontal:"",required:""},model:{value:t.setting.floor,callback:function(e){t.$set(t.setting,"floor",e)},expression:"setting.floor"}}),n("CInput",{attrs:{type:"text",label:"Квартира",horizontal:"",required:""},model:{value:t.setting.aptoroffice,callback:function(e){t.$set(t.setting,"aptoroffice",e)},expression:"setting.aptoroffice"}}),n("CSelect",{attrs:{horizontal:"",label:"Юр./физ. лицо",value:t.setting.iscompany,options:t.types,required:""},on:{"update:value":function(e){return t.$set(t.setting,"iscompany",e)}},model:{value:t.setting.iscompany,callback:function(e){t.$set(t.setting,"iscompany",e)},expression:"setting.iscompany"}}),n("CInput",{attrs:{type:"text",label:"Название здания",horizontal:"",required:""},model:{value:t.setting.buildingname,callback:function(e){t.$set(t.setting,"buildingname",e)},expression:"setting.buildingname"}}),n("CInput",{attrs:{type:"text",label:"ФИО",horizontal:"",required:""},model:{value:t.setting.ownername,callback:function(e){t.$set(t.setting,"ownername",e)},expression:"setting.ownername"}}),n("CInput",{attrs:{type:"text",label:"Контакты",horizontal:"",required:""},model:{value:t.setting.ownercontacts,callback:function(e){t.$set(t.setting,"ownercontacts",e)},expression:"setting.ownercontacts"}}),n("CInput",{attrs:{type:"text",label:"ИИН/БИН",horizontal:"",required:""},model:{value:t.setting.ownerID,callback:function(e){t.$set(t.setting,"ownerID",e)},expression:"setting.ownerID"}}),n("CInput",{attrs:{type:"text",label:"ID Мастера",horizontal:"",required:""},model:{value:t.setting.masterID,callback:function(e){t.$set(t.setting,"masterID",e)},expression:"setting.masterID"}}),n("CInput",{attrs:{type:"text",label:"ID Мастер Хаба",horizontal:"",required:""},model:{value:t.setting.masterhubID,callback:function(e){t.$set(t.setting,"masterhubID",e)},expression:"setting.masterhubID"}}),n("CInput",{attrs:{type:"text",label:"Путь клапана",horizontal:"",required:""},model:{value:t.setting.path,callback:function(e){t.$set(t.setting,"path",e)},expression:"setting.path"}}),n("CInput",{attrs:{type:"text",label:"Номер договора",horizontal:"",required:""},model:{value:t.setting.contract,callback:function(e){t.$set(t.setting,"contract",e)},expression:"setting.contract"}}),n("CSelect",{attrs:{horizontal:"",label:"Тип оплаты",value:t.setting.payment,options:t.payments,required:""},on:{"update:value":function(e){return t.$set(t.setting,"payment",e)}},model:{value:t.setting.payment,callback:function(e){t.$set(t.setting,"payment",e)},expression:"setting.payment"}}),n("CButton",{attrs:{color:"success",type:"submit"}},[t._v(" Добавить ")])],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"})],1),n("CModal",{attrs:{title:"Настройки","ok-disabled":!0,show:t.SettingsModal},on:{"update:show":function(e){t.SettingsModal=e}}},[n("CCard",[n("CCardBody",[n("CForm",{on:{submit:function(e){return t.editForm()}}},[n("CSelect",{attrs:{horizontal:"",label:"Город",value:t.setting.city,options:t.cities,required:""},on:{"update:value":function(e){return t.$set(t.setting,"city",e)}}}),n("CSelect",{attrs:{horizontal:"",label:"Район",value:t.setting.district,options:t.districts,required:""},on:{"update:value":function(e){return t.$set(t.setting,"district",e)}}}),n("CInput",{attrs:{type:"text",label:"Свой вариант",horizontal:"",required:""},model:{value:t.setting.district,callback:function(e){t.$set(t.setting,"district",e)},expression:"setting.district"}}),n("CSelect",{attrs:{horizontal:"",label:"Улица",value:t.setting.street,options:t.streets,required:""},on:{"update:value":function(e){return t.$set(t.setting,"street",e)}}}),n("CInput",{attrs:{type:"text",label:"Свой вариант",horizontal:"",required:""},model:{value:t.setting.street,callback:function(e){t.$set(t.setting,"street",e)},expression:"setting.street"}}),n("CInput",{attrs:{type:"text",label:"Тип здания",horizontal:"",required:""},model:{value:t.setting.typeofbuilding,callback:function(e){t.$set(t.setting,"typeofbuilding",e)},expression:"setting.typeofbuilding"}}),n("CInput",{attrs:{type:"text",label:"Номер здания",horizontal:"",required:""},model:{value:t.setting.buildingnum,callback:function(e){t.$set(t.setting,"buildingnum",e)},expression:"setting.buildingnum"}}),n("CSelect",{attrs:{horizontal:"",label:"Подъезд",value:t.setting.entrancenum,options:t.entrances,required:""},on:{"update:value":function(e){return t.$set(t.setting,"entrancenum",e)}}}),n("CInput",{attrs:{type:"text",label:"Свой вариант",horizontal:"",required:""},model:{value:t.setting.entrancenum,callback:function(e){t.$set(t.setting,"entrancenum",e)},expression:"setting.entrancenum"}}),n("CSelect",{attrs:{horizontal:"",label:"Шахта",value:t.setting.shaftnum,options:t.shaftnums,required:""},on:{"update:value":function(e){return t.$set(t.setting,"shaftnum",e)}}}),n("CInput",{attrs:{type:"text",label:"Свой вариант",horizontal:"",required:""},model:{value:t.setting.shaftnum,callback:function(e){t.$set(t.setting,"shaftnum",e)},expression:"setting.shaftnum"}}),n("CSelect",{attrs:{horizontal:"",label:"Дом",value:t.setting.house,options:t.houses,required:""},on:{"update:value":function(e){return t.$set(t.setting,"house",e)}}}),n("CInput",{attrs:{type:"text",label:"Свой вариант",horizontal:"",required:""},model:{value:t.setting.house,callback:function(e){t.$set(t.setting,"house",e)},expression:"setting.house"}}),n("CSelect",{attrs:{horizontal:"",label:"Этаж",value:t.setting.floor,options:t.floors,required:""},on:{"update:value":function(e){return t.$set(t.setting,"floor",e)}}}),n("CInput",{attrs:{type:"text",label:"Свой вариант",horizontal:"",required:""},model:{value:t.setting.floor,callback:function(e){t.$set(t.setting,"floor",e)},expression:"setting.floor"}}),n("CSelect",{attrs:{horizontal:"",label:"Квартира",value:t.setting.aptoroffice,options:t.aptoroffices,required:""},on:{"update:value":function(e){return t.$set(t.setting,"aptoroffice",e)}}}),n("CInput",{attrs:{type:"text",label:"Свой вариант",horizontal:"",required:""},model:{value:t.setting.aptoroffice,callback:function(e){t.$set(t.setting,"aptoroffice",e)},expression:"setting.aptoroffice"}}),n("CSelect",{attrs:{horizontal:"",label:"Юр./физ. лицо",value:t.setting.iscompany,options:t.types,required:""},on:{"update:value":function(e){return t.$set(t.setting,"iscompany",e)}}}),n("CInput",{attrs:{type:"text",label:"Название здания",horizontal:"",required:""},model:{value:t.setting.buildingname,callback:function(e){t.$set(t.setting,"buildingname",e)},expression:"setting.buildingname"}}),n("CInput",{attrs:{type:"text",label:"ФИО",horizontal:"",required:""},model:{value:t.setting.ownername,callback:function(e){t.$set(t.setting,"ownername",e)},expression:"setting.ownername"}}),n("CInput",{attrs:{type:"text",label:"Контакты",horizontal:"",required:""},model:{value:t.setting.ownercontacts,callback:function(e){t.$set(t.setting,"ownercontacts",e)},expression:"setting.ownercontacts"}}),n("CInput",{attrs:{type:"text",label:"ИИН/БИН",horizontal:"",required:""},model:{value:t.setting.ownerID,callback:function(e){t.$set(t.setting,"ownerID",e)},expression:"setting.ownerID"}}),n("CInput",{attrs:{type:"text",label:"ID Мастера",horizontal:"",required:""},model:{value:t.setting.masterID,callback:function(e){t.$set(t.setting,"masterID",e)},expression:"setting.masterID"}}),n("CInput",{attrs:{type:"text",label:"ID Мастер Хаба",horizontal:"",required:""},model:{value:t.setting.masterhubID,callback:function(e){t.$set(t.setting,"masterhubID",e)},expression:"setting.masterhubID"}}),n("CInput",{attrs:{type:"text",label:"Путь клапана",horizontal:"",required:""},model:{value:t.setting.path,callback:function(e){t.$set(t.setting,"path",e)},expression:"setting.path"}}),n("CInput",{attrs:{type:"text",label:"Номер договора",horizontal:"",required:""},model:{value:t.setting.contract,callback:function(e){t.$set(t.setting,"contract",e)},expression:"setting.contract"}}),n("CSelect",{attrs:{horizontal:"",label:"Тип оплаты",value:t.setting.payment,options:t.payments,required:""},on:{"update:value":function(e){return t.$set(t.setting,"payment",e)}}}),n("CButton",{attrs:{color:"success",type:"submit"}},[t._v(" Изменить ")])],1)],1)],1),n("div",{attrs:{slot:"footer"},slot:"footer"})],1),n("CModal",{attrs:{title:"Подтверждение","ok-disabled":!0,show:t.AcceptanceModal},on:{"update:show":function(e){t.AcceptanceModal=e}}},[n("h4",[t._v("Вы собираетесь сделать действие сразу над несколькими клапанами")]),n("span",{staticStyle:{display:"block",margin:"15px 0"}},[t._v("Вы уверены?")]),n("div",[n("CButton",{staticClass:"mr-3",attrs:{color:"primary"},on:{click:t.sendAcceptance}},[t._v("Да")]),n("CButton",{staticClass:"mr-2",attrs:{color:"warning"},on:{click:function(e){t.AcceptanceModal=!t.AcceptanceModal,t.action_switcher=0}}},[t._v("Нет")])],1),t.SmsInput?n("div",{staticClass:"mt-4"},[n("CInput",{attrs:{type:"text"},model:{value:t.secretCode,callback:function(e){t.secretCode=e},expression:"secretCode"}}),n("CButton",{staticClass:"mr-3",attrs:{color:"success"},on:{click:t.actOnValves}},[t._v("Подтвердить")])],1):t._e(),n("div",{attrs:{slot:"footer"},slot:"footer"})]),n("div",{staticClass:"alert_block"},[t.warning?n("CAlert",{attrs:{color:"warning",closeButton:""}},[t._v(" "+t._s(t.alert_message)+" ")]):t._e(),t.success?n("CAlert",{attrs:{color:"primary",closeButton:""}},[t._v(" "+t._s(t.alert_message)+" ")]):t._e()],1)],1)},i=[],r=n("ebb4"),s=n("c08e"),o=n.n(s),l=n("4328"),c=n("bc3a"),u={name:"Dashboard",components:{Stats:r["a"]},data:function(){return{statInfo:[],cities_name:"",period_name:[{value:"day",label:"За день"},{value:"month",label:"За месяц"},{value:"year",label:"За год"}],action_switcher_period:"day",cities_key:"",cities_arr:"",all_select:!1,warning:!1,success:!1,alert_message:"",SettingsModal:!1,NewValveModal:!1,AcceptanceModal:!1,SmsInput:!1,secretCode:"",isSelect:!1,action_switcher:"",action_switcher_city:"",id:"",tableItems:[],tableFields:[{key:"select",label:"Выбор",sorter:!1,filter:!1},{key:"status",label:"Статус клапана",filter:!1},{key:"city",label:"Город "},{key:"district",label:"Район ",_classes:"text-center"},{key:"street",label:"Улица "},{key:"typeofbuilding",label:"Вид здания"},{key:"buildingnum",label:"Номер дома "},{key:"entrancenum",label:"Номер подъезда "},{key:"shaftnum",label:"Номер шахты "},{key:"floor",label:"Этаж"},{key:"aptoroffice",label:"Кв/офис"},{key:"waterVolume",label:"Объем воды"},{key:"valveID",label:"ID клапана"},{key:"settings",label:"Действия",sorter:!1,filter:!1}],checkedValves:[],availableOptions:[{value:0,label:"Не выбрано"},{value:1,label:"Включить отмеченные"},{value:2,label:"Отключить отмеченные"}],setting:{},cities:[{value:null,label:"Выберите город"},{value:"1",label:"Алма-ата"},{value:"2",label:"Нур-Султан"},{value:"3",label:"Шымкент"},{value:"4",label:"Актобе"},{value:"5",label:"Караганда"},{value:"6",label:"Тараз"},{value:"7",label:"Павлодар"},{value:"8",label:"Усть-Каменогорск"},{value:"9",label:"Семей"},{value:"10",label:"Атырау"},{value:"11",label:"Костанай"},{value:"12",label:"Кызылорда"},{value:"13",label:"Уральск"},{value:"14",label:"Петропавловск"},{value:"15",label:"Темиртау"},{value:"16",label:"Актау"},{value:"17",label:"Туркестан"},{value:"18",label:"Кокшетау"},{value:"19",label:"Талдыкорган"},{value:"20",label:"Экибастуз"},{value:"21",label:"Рудный"}],districts:[{value:"Сарыаркинский",label:"Сарыаркинский"},{value:"Есиль",label:"Есиль"}],streets:[{value:"Сарыаркинский",label:"Сарыаркинский"},{value:"Есиль",label:"Есиль"}],buildings:[{value:"Сарыаркинский",label:"Сарыаркинский"},{value:"Есиль",label:"Есиль"}],houses:[{value:1,label:"1"},{value:2,label:"2"}],entrances:[{value:1,label:"1"},{value:2,label:"2"}],aptoroffices:[{value:1,label:"1"},{value:2,label:"2"}],shaftnums:[{value:1,label:"1"},{value:2,label:"2"}],floors:[{value:1,label:"1"},{value:2,label:"2"}],types:[{value:null,label:"Выберите ..."},{value:1,label:"Физ лицо"},{value:2,label:"Юр лицо"}],payments:[{value:null,label:"Выберите способ"},{value:1,label:"1"},{value:2,label:"2"}]}},mounted:function(){var t=this,e=auth.cities();this.cities_name=e.cities_name,this.cities_arr=e.cities,this.cities_key=e.cities_key,this.getResults(1),this.interval=setInterval((function(){return t.getResults(1)}),3e4)},methods:{tableStats:function(t){this.tableItems=1===t?this.statInfo[1]:2===t?this.statInfo[2]:this.statInfo[4]},showSettingModal:function(t){this.setting=t,this.SettingsModal=!this.SettingsModal},addNewValveModal:function(){this.setting={},this.NewValveModal=!this.NewValveModal},downloadArray:function(){var t=this.tableItems,e={select:"Выбор",status:"Статус клапана",city:"Город ",district:"Район ",street:"Улица ",typeofbuilding:"Вид здания",buildingnum:"Номер дома ",entrancenum:"Номер подъезда ",shaftnum:"Номер шахты ",floor:"Этаж",aptoroffice:"Кв/офис",valveID:"ID клапана",waterVolume:"Объем воды",settings:"Действия"},n=new Date,a="".concat(n.getDate(),"-").concat(n.getMonth()+1,"-").concat(n.getFullYear()),i="";i=this.action_switcher_city.length>=1?"Клапаны в городе"+this.action_switcher_city+" "+a+".csv":"Клапаны в городе Алма-Ата "+a+".csv",o()(t,e,i)},allSelect:function(){var t=this;t.isSelect=!0;for(var e=0;e<t.tableItems.length;e++)0==t.all_select?(this.tableItems[e].select=!0,this.tableItems[e].street=this.tableItems[e].street+" "):(this.tableItems[e].select=!1,this.tableItems[e].street=this.tableItems[e].street+" ");t.all_select=1!=t.all_select},submitForm:function(){var t=this;event.preventDefault();var e=this;c.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,c({method:"post",url:"/addvalve/",data:l.stringify(this.setting)}).then((function(n){n.data;e.warningModal=!1,e.success=!0,e.alert_message="Успешно добавлено",void 0==t.cities_arr[t.action_switcher_city]?t.getResults(1):t.getResults(t.cities_arr[t.action_switcher_city]),e.setting={},setTimeout((function(){e.success=!1}),3e3)})).catch((function(t){e.warning=!0,e.alert_message=t.response.data.detail,setTimeout((function(){e.warning=!1}),3e3)}))},editForm:function(){var t=this;event.preventDefault();var e=this;console.log(this.setting),c.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,c({method:"post",url:"/updatevalve/",data:l.stringify(this.setting)}).then((function(n){n.data;e.warningModal=!1,e.success=!0,e.alert_message="Успешно изменено",void 0==t.cities_arr[t.action_switcher_city]?t.getResults(1):t.getResults(t.cities_arr[t.action_switcher_city]),e.setting={},setTimeout((function(){e.success=!1}),3e3)})).catch((function(t){e.warning=!0,e.alert_message=t.response.data.detail,setTimeout((function(){e.warning=!1}),3e3)}))},actionSelectChange:function(t){var e=this;e.isSelect=!0,0==t.select?this.checkedValves=this.checkedValves.filter((function(e){return e!==t.valveID})):this.checkedValves.push(t.valveID)},sendAcceptance:function(){this.SmsInput=!0,c.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,c.get("/getsecretcode/").then((function(t){console.log(t)})).catch((function(t){401===t.response.status&&window.auth.logout()}))},actionSwitcher:function(){this.checkedValves.length>=2&&(this.AcceptanceModal=!this.AcceptanceModal)},actOnValves:function(){var t=this;if(console.log(this.action_switcher),1===this.action_switcher){var e=this;c.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,c({method:"post",url:"/turnonmanyvalves/",data:l.stringify({secret_code:this.secretCode,device_ids:this.checkedValves.join()})}).then((function(){e.success=!0,e.alert_message="Успешно включено",t.AcceptanceModal=!1,t.action_switcher=0,setTimeout((function(){e.success=!1}),3e3)})).catch((function(t){e.warning=!0,e.alert_message=t.response.data.detail}))}else{var n=this;c.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,c({method:"post",url:"/turnoffmanyvalves/",data:l.stringify({secret_code:this.secretCode,device_ids:this.checkedValves.join()})}).then((function(){n.success=!0,n.alert_message="Успешно выключено",t.action_switcher=0,t.AcceptanceModal=!1,setTimeout((function(){n.success=!1}),3e3)})).catch((function(t){n.warning=!0,n.alert_message=t.response.data.detail}))}},actionSwitcherCity:function(){void 0==this.cities_arr[this.action_switcher_city]?this.getResults(1):this.getResults(this.cities_arr[this.action_switcher_city])},getResults:function(t){var e=this,n=this;c.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,c.get("/getvalvesbycity/"+t+"/"+this.action_switcher_period).then((function(t){n.tableItems=t.data[0],e.statInfo=t.data;for(var a=0;a<n.tableItems.length;a++)n.tableItems[a].select=!1})).catch((function(t){401===t.response.status&&window.auth.logout()}))},actionStatusChange:function(t){var e=this;console.log(this.action_switcher_city),console.log("GEGEG");var n=this,a=1==t.status||2==t.status?"/turnon/":"/turnoff/";c.defaults.headers.common["Authorization"]="Bearer "+window.auth.token,c({method:"post",url:a,data:l.stringify({device_id:t.valveID})}).then((function(t){var a=t.data;n.success=!0,n.alert_message=a.responce,setTimeout((function(){n.success=!1}),3e3),void 0==e.cities_arr[e.action_switcher_city]?e.getResults(1):e.getResults(e.cities_arr[e.action_switcher_city])})).catch((function(t){}))},colorStatus:function(t){var e="secondary";return 1==t?e="secondary":2==t||4==t?e="warning":3==t?e="danger":5==t&&(e="success"),e},textStatus:function(t){var e="Выключен";return e=1==t?"Отключен":2==t?"Отключается":3==t?"Сломался":4==t?"Включается":5==t?"Включен":"Выключен",e},color:function(t){var e;return t<=25?e="info":t>25&&t<=50?e="success":t>50&&t<=75?e="warning":t>75&&t<=100&&(e="danger"),e}}},d=u,f=(n("2b56"),n("2877")),p=Object(f["a"])(d,a,i,!1,null,null,null);e["default"]=p.exports},7603:function(t,e,n){"use strict";n("9750")},8248:function(t,e,n){"use strict";var a=n("fd75");t.exports=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"export.csv";if(t){var n=a(),i="\ufeff",r="data:attachment/csv;charset=utf-8,"+i+encodeURIComponent(t);if(window.Blob&&window.URL&&window.URL.createObjectURL){var s=new Blob([i+t],{type:"text/csv"});r=URL.createObjectURL(s)}if("IE"===n.name){var o=window.top.open("about:blank","_blank");return o.document.write("sep=,\r\n"+t),o.document.close(),o.document.execCommand("SaveAs",!0,e),void o.close()}if("Safari"===n.name){var l=document.createElement("a");l.id="csvDwnLink",document.body.appendChild(l);var c=i+t,u="data:attachment/csv;charset=utf-8,"+encodeURIComponent(c);return document.getElementById("csvDwnLink").setAttribute("href",u),document.getElementById("csvDwnLink").click(),void document.body.removeChild(l)}if("Firefox"===n.name){var d=document.createElement("a");d.download=e,d.target="_blank",d.href=r;var f=document.createEvent("MouseEvents");return f.initEvent("click",!0,!0),void d.dispatchEvent(f)}var p=document.createElement("a");p.download=e,p.href=r,p.click()}else console.log("the file is null")}},9750:function(t,e,n){},"9e6a":function(t,e,n){"use strict";var a=n("d233"),i=Object.prototype.hasOwnProperty,r={allowDots:!1,allowPrototypes:!1,arrayLimit:20,decoder:a.decode,delimiter:"&",depth:5,parameterLimit:1e3,plainObjects:!1,strictNullHandling:!1},s=function(t,e){for(var n={},a=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,s=e.parameterLimit===1/0?void 0:e.parameterLimit,o=a.split(e.delimiter,s),l=0;l<o.length;++l){var c,u,d=o[l],f=d.indexOf("]="),p=-1===f?d.indexOf("="):f+1;-1===p?(c=e.decoder(d,r.decoder),u=e.strictNullHandling?null:""):(c=e.decoder(d.slice(0,p),r.decoder),u=e.decoder(d.slice(p+1),r.decoder)),i.call(n,c)?n[c]=[].concat(n[c]).concat(u):n[c]=u}return n},o=function(t,e,n){for(var a=e,i=t.length-1;i>=0;--i){var r,s=t[i];if("[]"===s)r=[],r=r.concat(a);else{r=n.plainObjects?Object.create(null):{};var o="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,l=parseInt(o,10);!isNaN(l)&&s!==o&&String(l)===o&&l>=0&&n.parseArrays&&l<=n.arrayLimit?(r=[],r[l]=a):r[o]=a}a=r}return a},l=function(t,e,n){if(t){var a=n.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,r=/(\[[^[\]]*])/,s=/(\[[^[\]]*])/g,l=r.exec(a),c=l?a.slice(0,l.index):a,u=[];if(c){if(!n.plainObjects&&i.call(Object.prototype,c)&&!n.allowPrototypes)return;u.push(c)}var d=0;while(null!==(l=s.exec(a))&&d<n.depth){if(d+=1,!n.plainObjects&&i.call(Object.prototype,l[1].slice(1,-1))&&!n.allowPrototypes)return;u.push(l[1])}return l&&u.push("["+a.slice(l.index)+"]"),o(u,e,n)}};t.exports=function(t,e){var n=e?a.assign({},e):{};if(null!==n.decoder&&void 0!==n.decoder&&"function"!==typeof n.decoder)throw new TypeError("Decoder has to be a function.");if(n.ignoreQueryPrefix=!0===n.ignoreQueryPrefix,n.delimiter="string"===typeof n.delimiter||a.isRegExp(n.delimiter)?n.delimiter:r.delimiter,n.depth="number"===typeof n.depth?n.depth:r.depth,n.arrayLimit="number"===typeof n.arrayLimit?n.arrayLimit:r.arrayLimit,n.parseArrays=!1!==n.parseArrays,n.decoder="function"===typeof n.decoder?n.decoder:r.decoder,n.allowDots="boolean"===typeof n.allowDots?n.allowDots:r.allowDots,n.plainObjects="boolean"===typeof n.plainObjects?n.plainObjects:r.plainObjects,n.allowPrototypes="boolean"===typeof n.allowPrototypes?n.allowPrototypes:r.allowPrototypes,n.parameterLimit="number"===typeof n.parameterLimit?n.parameterLimit:r.parameterLimit,n.strictNullHandling="boolean"===typeof n.strictNullHandling?n.strictNullHandling:r.strictNullHandling,""===t||null===t||"undefined"===typeof t)return n.plainObjects?Object.create(null):{};for(var i="string"===typeof t?s(t,n):t,o=n.plainObjects?Object.create(null):{},c=Object.keys(i),u=0;u<c.length;++u){var d=c[u],f=l(d,i[d],n);o=a.merge(o,f,n)}return a.compact(o)}},b313:function(t,e,n){"use strict";var a=String.prototype.replace,i=/%20/g;t.exports={default:"RFC3986",formatters:{RFC1738:function(t){return a.call(t,i,"+")},RFC3986:function(t){return t}},RFC1738:"RFC1738",RFC3986:"RFC3986"}},c08e:function(t,e,n){var a=n("6304"),i=n("8248"),r=n("fd75");function s(t,e,n){i(a(t,e),n)}s.creatCsvFile=a,s.downloadFile=i,s.detectionClientType=r,t.exports=s},d233:function(t,e,n){"use strict";var a=Object.prototype.hasOwnProperty,i=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),r=function(t){var e;while(t.length){var n=t.pop();if(e=n.obj[n.prop],Array.isArray(e)){for(var a=[],i=0;i<e.length;++i)"undefined"!==typeof e[i]&&a.push(e[i]);n.obj[n.prop]=a}}return e},s=function(t,e){for(var n=e&&e.plainObjects?Object.create(null):{},a=0;a<t.length;++a)"undefined"!==typeof t[a]&&(n[a]=t[a]);return n},o=function t(e,n,i){if(!n)return e;if("object"!==typeof n){if(Array.isArray(e))e.push(n);else{if("object"!==typeof e)return[e,n];(i.plainObjects||i.allowPrototypes||!a.call(Object.prototype,n))&&(e[n]=!0)}return e}if("object"!==typeof e)return[e].concat(n);var r=e;return Array.isArray(e)&&!Array.isArray(n)&&(r=s(e,i)),Array.isArray(e)&&Array.isArray(n)?(n.forEach((function(n,r){a.call(e,r)?e[r]&&"object"===typeof e[r]?e[r]=t(e[r],n,i):e.push(n):e[r]=n})),e):Object.keys(n).reduce((function(e,r){var s=n[r];return a.call(e,r)?e[r]=t(e[r],s,i):e[r]=s,e}),r)},l=function(t,e){return Object.keys(e).reduce((function(t,n){return t[n]=e[n],t}),t)},c=function(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(e){return t}},u=function(t){if(0===t.length)return t;for(var e="string"===typeof t?t:String(t),n="",a=0;a<e.length;++a){var r=e.charCodeAt(a);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122?n+=e.charAt(a):r<128?n+=i[r]:r<2048?n+=i[192|r>>6]+i[128|63&r]:r<55296||r>=57344?n+=i[224|r>>12]+i[128|r>>6&63]+i[128|63&r]:(a+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(a)),n+=i[240|r>>18]+i[128|r>>12&63]+i[128|r>>6&63]+i[128|63&r])}return n},d=function(t){for(var e=[{obj:{o:t},prop:"o"}],n=[],a=0;a<e.length;++a)for(var i=e[a],s=i.obj[i.prop],o=Object.keys(s),l=0;l<o.length;++l){var c=o[l],u=s[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(e.push({obj:s,prop:c}),n.push(u))}return r(e)},f=function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},p=function(t){return null!==t&&"undefined"!==typeof t&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))};t.exports={arrayToObject:s,assign:l,compact:d,decode:c,encode:u,isBuffer:p,isRegExp:f,merge:o}},ebb4:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"widget_wrapper"},[n("div",{staticClass:"widget working"},[t._v(" Работающие "+t._s(t.stat_info[1].length)+" "),n("div",{on:{click:function(e){return t.emitters(1)}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cilSettings"}})],1)]),n("div",{staticClass:"widget closed"},[t._v(" Закрытые "+t._s(t.stat_info[2].length)+" "),n("div",{on:{click:function(e){return t.emitters(2)}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cilSettings"}})],1)]),n("div",{staticClass:"widget workers"},[t._v("Монтажеры "+t._s(t.stat_info[3].length))]),n("div",{staticClass:"widget notResponding"},[t._v(" Не отвечающие "+t._s(t.stat_info[4].length)+" "),n("div",{on:{click:function(e){return t.emitters(3)}}},[n("CIcon",{staticClass:"mr-1",attrs:{name:"cilSettings"}})],1)])])])},i=[],r={name:"Stats",props:["stat_info"],methods:{emitters:function(t){this.$emit("myEvent",t)}}},s=r,o=(n("7603"),n("2877")),l=Object(o["a"])(s,a,i,!1,null,null,null);e["a"]=l.exports},fd75:function(t,e,n){"use strict";t.exports=function(){var t={},e=navigator.userAgent.toLowerCase(),n=void 0;return(n=e.match(/msie ([\d.]+)/))?t.ie=n[1]:(n=e.match(/firefox\/([\d.]+)/))?t.firefox=n[1]:(n=e.match(/chrome\/([\d.]+)/))?t.chrome=n[1]:(n=e.match(/opera.([\d.]+)/))?t.opera=n[1]:(n=e.match(/version\/([\d.]+).*safari/))&&(t.safari=n[1]),t.ie?{name:"IE",version:t.ie}:t.firefox?{name:"Firefox",version:t.firefox}:t.chrome?{name:"Chrome",version:t.chrome}:t.opera?{name:"Opera",version:t.opera}:t.safari?{name:"Safari",version:t.safari}:{name:""}}}}]);
//# sourceMappingURL=chunk-04c543b0.0d0dd04c.js.map